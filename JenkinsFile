node {
   environment {
    def MSBUILD = 'C:\\Program Files (x86)\\Microsoft Visual Studio\\2017\\BuildTools\\MSBuild\\15.0\\Bin'
    CONFIG = 'Release'
    PLATFORM = 'x64'
  }

  //stage('Checkout') {
    //git 'https://github.com/Ivancontry/PruebaJenkinsPipeline.git'
  //}
  //SignusFinanciero.sln
  //stage ('Restore Nuget') {
    //powershell label: '', script: 'C:/nuget/nuget.exe restore PruebaJenkinsPipeline.sln'
  //}
  
 // stage('Clean') {
    //bat 'dotnet clean SignusCreditos.sln'
  //}
  
  stage('Build') {
    powershell label: '', script: '"${MSBUILD}" PipelineTest\\\\PipelineTest.csproj'    
  }

  //stage ('Test') {
    //bat "dotnet test Credito/Core.Domain.Test/Credito.Core.Domain.Test.csproj --logger trx;LogFileName=unit_tests.trx"
    //mstest testResultsFile:"**/*.trx", keepLongStdio: true
  //}
    

  stage('Publish') {
    //bat 'dotnet publish Credito/Infrastructure.Web/Credito.Infrastructure.Web.csproj -c Release -o C:/DeployCredito'
  } 
  
}
